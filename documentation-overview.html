<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Documentation Overview</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <link rel="shortcut icon" href="images/logo.svg">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1">
    <link rel="stylesheet" href="includes/theme.css">
    <link rel="stylesheet" href="includes/prettify.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
      main > article table tr td {
          vertical-align: top;
      }

      main > article table tr + tr td {
          padding-top: 25px;
      }
    </style>
  </head>
  <body>
    <header>
      <a href="/"><img src="images/logo.svg" alt=""></a>
      <h2>&lt;<span>proxy</span>&gt;</h2><h1><span>USECALLMANAGER</span>.nz</h1><h2>&lt;/<span>proxy</span>&gt;</h2>
    </header>
    <main>
      <nav>
        <ul>
          <li><span class="icon selected">home</span> <b>Documentation Overview</b></li>
          <li><a href="patching-asterisk.html"><span class="icon">build</span> Patching Asterisk</a></li>
        </ul>
        <ul>
          <li><h3>Network Configuration</h3></li>
          <li><a href="dhcpd-conf.html"><span class="icon">settings_ethernet</span> DHCP Options</a></li>
          <li><a href="apache-conf.html"><span class="icon">file_download</span> HTTP Provisioning</a></li>
          <li><a href="tftpd-conf.html"><span class="icon">file_download</span> TFTP Provisioning</a></li>
        </ul>
        <ul>
          <li><h3>Phone Configuration</h3></li>
          <li><a href="sepmac-cnf-xml.html"><span class="icon">settings_phone</span> SEPMAC.cnf.xml</a></li>
          <li><a href="dial-template-xml.html"><span class="icon">dialpad</span> Dial Templates</a></li>
          <li><a href="app-dial-rules-xml.html"><span class="icon">bluetooth</span> Application Dial Rules</a></li>
          <li><a href="soft-keys-xml.html"><span class="icon">power_input</span> Soft Keys</a></li>
          <li><a href="line-keys-xml.html"><span class="icon">format_list_bulleted</span> Line Keys</a></li>
          <li><a href="feature-policy-xml.html"><span class="icon">fact_check</span> Feature Policy</a></li>
          <li><a href="network-locale.html"><span class="icon">language</span> Network Locale</a></li>
          <li><a href="user-locale.html"><span class="icon">face</span> User Locale</a></li>
          <li><a href="load-information.html"><span class="icon">file_upload</span> Firmware Load Information</a></li>
          <li><a href="image-list-xml.html"><span class="icon">wallpaper</span> Background Images</a></li>
          <li><a href="ring-list-xml.html"><span class="icon">ring_volume</span> Ring Tones</a></li>
          <li><a href="itl-file-tlv.html"><span class="icon">security</span> Device Security</a></li>
          <li><a href="trust-verification.html"><span class="icon">verified</span> Trust Verification</a></li>
          <li><a href="certificate-enrollment.html"><span class="icon">card_membership</span> Certificate Enrollment</a></li>
          <li><a href="vpn-group.html"><span class="icon">vpn_key</span> VPN Connection</a></li>
        </ul>
        <ul>
          <li><h3>Asterisk Configuration</h3></li>
          <li><a href="sip-conf.html"><span class="icon">dialer_sip</span> SIP Peers</a></li>
          <li><a href="sip-notify-conf.html"><span class="icon">settings_power</span> SIP Notify Commands</a></li>
          <li><a href="extensions-conf.html"><span class="icon">format_list_numbered</span> Dialplan Extensions</a></li>
          <li><a href="res-parking-conf.html"><span class="icon">local_parking</span> Call Parking</a></li>
          <li><a href="sippeer-options.html"><span class="icon">code</span> SIPPEER Options</a></li>
          <li><a href="rtp-streaming.html"><span class="icon">volume_up</span> RTP Streaming</a></li>
          <li><a href="command-line.html"><span class="icon">keyboard_arrow_right</span> Command Line</a></li>
          <li><a href="freepbx-integration.html"><span class="icon">view_kanban</span> FreePBX Integration</a></li>
        </ul>
        <ul>
          <li><h3>XML Services</h3></li>
          <li><a href="phone-services-xml.html"><span class="icon">settings</span> Phone Services</a></li>
          <li><a href="cgi-execute-xml.html"><span class="icon">phone_forwarded</span> CGI Execute</a></li>
        </ul>
        <ul>
          <li><h3>Additional Features</h3></li>
          <li><a href="as-feature-events.html"><span class="icon">extension</span> AS Feature Events</a></li>
        </ul>
      </nav>
      <article>
        <h1>Documentation Overview</h1>
        This documentation describes how to patch Asterisk to support Cisco SIP IP phones as well as how to configure the various features available on those devices. These IP phones require additional proprietary extensions to the SIP protocol to operate correctly and are only designed to operate with Cisco Unified Call Manager.<br>
        <br>
        Supported devices are the <b>6900</b> series, <b>7800</b> series, <b>7900</b> series, <b>8800</b> series, <b>894X</b> models and <b>9900</b> series.<br>
        <br>
        Questions may be sent to <a href="mailto:gareth.palmer3@gmail.com"><span class="icon">mail</span> gareth.palmer3@gmail.com</a>. Source code for the project (patch, utilities and documentation) is also available on <a href="https://github.com/usecallmanagernz"><span class="icon">open_in_browser</span> GitHub</a>. If you find this work useful you can make a donation via <a href="https://github.com/sponsors/usecallmanagernz"><span class="icon">favorite</span> GitHub Sponsorship</a>.<br>
        <br>
        <div class="horizontal-rule"></div>
        The patch provides the following features required by the Cisco IP phones that are not available in standard Asterisk.<br>
        <br>
        <table width="100%">
          <tbody>
            <tr>
              <td width="50%">
                <h2>Busy Lamp Field</h2>
                Support for busy-lamp-field using unsolicited notifications as the phones do not subscribe to hints. Extensions to PIDF XML support allow representation of ringing and Do Not Disturb states.
              </td>
              <td width="50%">
                <h2>Off Hook Notification</h2>
                When taken off-hook the phone will show as being in-use prior to making a call.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Call Forward Synchronization</h2>
                The Call Forward target is recorded in Asterisk and is set back on the phone when it registers. It is also stored in Asterisk's database and will persist across restarts.
              </td>
              <td width="50%">
                <h2>Do Not Disturb Synchronization</h2>
                Publish requests from the phone to change the Do Not Disturb state is now handled by Asterisk and will be set back on the phone when it registers. It is also stored in Asterisk's database and will persist across restarts.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Ad-Hoc Conferencing</h2>
                Dynamic server-side conferences can be created allowing more than 3 participants. Other Cisco phones can be made administrators when they join the conference.
              </td>
              <td width="50%">
                <h2>Conference Management</h2>
                Participants in ad-hoc conferences can be added, viewed, muted or removed from the conference by any of the conference administrators.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Call Parking</h2>
                Both Park and Park Monitor methods are supported allowing single button parking. The parking extension is displayed on the phone's screen.
              </td>
              <td width="50%">
                <h2>Hunt Group Login</h2>
                Hunt-group login state is recorded in Asterisk and made available to the dial-plan. It will be set back on the phone when it registers. It is also stored in Asterisk's database and will persists across restarts.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Immediate Divert</h2>
                Incoming calls can be sent a busy signal, connected calls can be diverted to specific extension.
              </td>
              <td width="50%">
                <h2>Call Recording</h2>
                Call recording can be initiated from the phone and does not require Asterisk to be in the media path.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Multiple Lines</h2>
                Support for multiple lines using bulk-registration as the phones only register their first line. Additional secondary lines are automatically registered.
              </td>
              <td width="50%">
                <h2>Call Pickup Notification</h2>
                Display the from and to caller-ID numbers and play a beep tone when there an incoming call available for pickup on another phone.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>RTP Streaming</h2>
                Stream audio to multiple phones either via unicast or multicast RTP.
              </td>
              <td width="50%">
                <h2>Command Line</h2>
                Call Forward, Do Not Disturb and Hunt Group Login states can be changed using Asterisk CLI. Changes will automatically update the phone.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Device Secuirty</h2>
                Phones can load X509 certificates to verify SIP-TLS and HTTPS connections.
              </td>
              <td width="50%">
                <h2>Fail-over</h2>
                Phones can automatically switch to a standby Asterisk if the connection to the primary fails. When the primary Asterisk becomes available the phone will revert back.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>VPN Connection</h2>
                Phone can connect to an OpenConnect Server VPN either automatically or on-demand.
              </td>
              <td width="50%">
                <h2>SIPPEER Options</h2>
                Call Forward, Do Not Disturb and Hunt Group Login states can be queried and set using this function. Changing the value automatically updates the phone.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Restart and Reset</h2>
                Phones can be restarted or reset using SIP notify either via AMI or the CLI.
              </td>
              <td width="50%">
                <h2>AS Feature Events</h2>
                Call Forward and Do Not Disturb synchronization for phones from other vendors.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Trust Verification</h2>
                Verify arbitrary SSL connections via a network service.
              </td>
              <td width="50%">
                <h2>Certificate Enrollment</h2>
                Install an certificate signed by a local authority on to the phone.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Malicious Call</h2>
                Call can be identified as being malicious.
              </td>
              <td width="50%">
                <h2>Quality Reporting Tool</h2>
                RTP call statistics are logged to the messages log and further information can be optionally gathered via XML service URL.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>CallBack</h2>
                Schedule a notification when an previously called phone is no longer busy.
              </td>
              <td width="50%">
                <h2>Select and Join</h2>
                Select and Join support required by the 7900 series to conference-in already established calls.
              </td>
            </tr>
            <tr>
              <td width="50%">
                <h2>Selective Auto-Answer</h2>
                Make the phone auto-answer a call based on a dial-plan variable.
              </td>
              <td width="50%">
                <h2>Callback Number</h2>
                Specify a different number to store in the phone's Received Calls history via a dial-plan variable.
              </td>
            </tr>
          </tbody>
        </table>
      </article>
    </main>
    <footer>
      <span class="icon">copyright</span> Gareth Palmer and individual contributors. Documentation distributed under <a href="LICENSE">CC BY 4.0</a>.
    </footer>
  </body>
</html>
